### Visitors!
### Please borrow freely from this config, but make sure to change
### the [user] section to your info

[core]
	excludesfile = /home/ptarjan/.gitignore

### colors are meant for a dark terminal
[color]
	ui = auto
	diff = auto
	status = auto
	branch = auto
	interactive = auto
[color "branch"]
	current = white blue bold
	local  = blue
	remote = green
[color "diff"]
	plain = white
	meta = yellow bold
	frag = magenta bold
	old = red
	new = green
	whitespace = red blink
[color "status"]
	added = yellow
	changed = green
	untracked = cyan

[alias]
	# "garbage-collect branches" whose tips have been merged into HEAD
	amend = commit --amend
	bb = bisect bad
	bg = bisect good
	br = branch
	gr = grep -i
	ca = commit --amend -a -C HEAD
	co = checkout
	st = status
        di = diff
        dm = !git log -p -w --reverse HEAD...`git merge-base HEAD master`
        edit = !$EDITOR `git diff HEAD^ --name-only`
        gcbr = !git branch --no-color --no-track --merged | sed 's/[ *]*//' | grep -v master | xargs -n1 git branch -d || exit 0
        gcbr2 = "!git for-each-ref --format='%(refname:short)' refs/heads | xargs -I % sh -c 'if git show -s % | grep 'git-svn-id:' > /dev/null; then git branch -D %; fi'"
        #gcbr2 = !for branch in `git for-each-ref --format='%(refname:short)' refs/heads`\; do if git show -s $branch | grep 'git-svn-id:'\; then echo git branch -D $branch\; fi\; done
        rall = "!git stash -u; git branch --no-color --no-track | sed 's/[ *]*//' | grep -v master | xargs -I % sh -c 'git co %; git r; git ra; git reset --hard; git clean -f; git clean -fdx'"
        n = checkout trunk -b
        r = !git fetch && git rebase
        s = svn dcommit
        rc = !git add . && git rebase --continue
        ra = rebase --abort
        rbi = rebase -i
        vim = !bash -c 'vim $(git diff --name-only "$1")' -

[svn]
	followparent = true
        rmdir = true

[commit]
        # template = /home/ptarjan/admin/scripts/templates/git-commit-template.txt
[user]
	name = ptarjan
	email = ptarjan@fb.com
[log]
	date = relative
[blame]
	date = short
[diff]
	renames = true
	mnemonicprefix = true
	# external = /home/ptarjan/bin/git/colordiff-wrapper.sh
[apply]
	whitespace = strip
[merge]
	tool = emerge
[status]
	# relativePaths = false
[web]
	browser = lynx
[rebase]
	stat = true
[gc]
	auto = 0
